<div class="container mt-4" *ngIf="internship">
  <div class="row">
    <!-- Internship Card -->
    <div class="col-md-4">
      <div class="card border-primary h-100">
        <div class="card-header text-primary">
          <h2>Internship</h2>
        </div>
        <div class="card-body">
          <p><strong>Title:</strong> {{ internship.title }}</p>
          <p><strong>Description:</strong> {{ internship.description }}</p>
          <p><strong>Dur√©e:</strong> {{ internship.duration }} mois</p>
        </div>
      </div>
    </div>

    <!-- Convention Card -->
    <div class="col-md-4">
      <div class="card border-success h-100">
        <div class="card-header text-success">
          <h3>Convention de Stage</h3>
        </div>
        <div class="card-body">
          <p><strong>Company Name:</strong> {{ convention.companyName }}</p>
          <p><strong>Company Address:</strong> {{ convention.companyAddress }}</p>
          <p><strong>Company Contact:</strong> {{ convention.companyContact }}</p>
          <p><strong>Start Date:</strong> {{ convention.startDate | date }}</p>
          <p><strong>End Date:</strong> {{ convention.endDate | date }}</p>
        </div>
      </div>
    </div>

    <!-- Documents Card -->
    <div class="col-md-4">
      <div class="card border-info h-100">
        <div class="card-header text-info">
          <h3>Documents</h3>
        </div>
        <div class="card-body">
          <p><strong>Rapport:</strong> {{ file.report }}</p>
          <p><strong>Certificat:</strong> {{ file.internship_Certifcate }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Journal Form in a Card -->
<div class="container mt-5">
  <div class="card border-warning">
    <div class="card-header text-warning">
      <h3>Journal Form</h3>
    </div>
    <div class="card-body">
      <form [formGroup]="journalForm" (ngSubmit)="addJournal()">
        <div class="row">
          <div class="col-md-4">
            <div class="mb-3">
              <label for="title" class="font-weight-bold">Title</label>
              <input id="title" type="text" formControlName="title" class="form-control" />
              
              <!-- Error messages -->
              <div *ngIf="journalForm.get('title')?.invalid && journalForm.get('title')?.touched" class="text-danger">
                <small *ngIf="journalForm.get('title')?.hasError('required')">
                  Title is required.
                </small>
                <small *ngIf="journalForm.get('title')?.hasError('pattern')">
                  Title contains invalid characters.
                </small>
              </div>
            </div>
            
          </div>

          <div class="col-md-4 text-center">
            <div class="mb-3">
              <button type="submit" [disabled]="journalForm.invalid" class="btn btn-primary btn-lg">
                Save
              </button>
            </div>
          </div>
        </div>
      </form>

      <!-- Add Tasks and Add Files buttons, visible only after form submission -->
      <div *ngIf="formSubmitted" class="row mt-3">
        <div class="col-md-6">
          <button (click)="goToAddTaskPage()" class="btn btn-secondary mb-2 w-100">
            Go to Add Tasks
          </button>
        </div>
 
      </div>
    </div>
  </div>
</div>
