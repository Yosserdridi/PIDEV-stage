<div *ngIf="error" class="alert alert-danger text-center shadow-sm rounded-3 mt-3">
  {{ error }}
</div>

<div *ngIf="conventionDetails.length > 0; else noData" class="container py-4">
  <div class="row g-4">
    <div class="col-md-6 col-lg-4" *ngFor="let entity of conventionDetails">
      <div class="card custom-card h-100">
        <div class="card-body d-flex flex-column justify-content-between">
          <div>
            <h5 class="card-title mb-3">
              Convention #{{ entity.internshipConvention.id }}
            </h5>
            <p><strong>ğŸ¢ Company:</strong> {{ entity.internshipConvention.companyName }}</p>
            <p><strong>ğŸ“ Address:</strong> {{ entity.internshipConvention.companyAddress }}</p>
            <p><strong>ğŸ“ Contact:</strong> {{ entity.internshipConvention.companyContact }}</p>
            <p>
              <strong>Status:</strong>
              <span class="badge"
                [ngClass]="{
                  'bg-success': entity.internshipConvention.isValid,
                  'bg-danger': !entity.internshipConvention.isValid
                }">
                {{ entity.internshipConvention.isValid ? 'ValidÃ©e' : 'Non ValidÃ©e' }}
              </span>
            </p>
          </div>

          <div class="mt-4 text-end">
            <button class="btn btn-outline-primary btn-rounded"
              [routerLink]="['/convention/user/details', entity.internshipConvention.id]">
              Show Details
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #noData>
  <div class="alert alert-info text-center mt-4">
    No conventions found for this student.
  </div>
</ng-template>

<button class="btn btn-info" (click)="goToDetails()">DÃ©tails</button>
